<div class="space-y-6">
  <div class="flex justify-between items-center">
    <h2 class="text-3xl font-bold text-slate-800">ğŸŒ³ å®¶ç³»å›³</h2>
    <div class="text-sm text-slate-600">
      <%= @people.count %> äºº / <%= @relationships.count %> é–¢ä¿‚
    </div>
  </div>

  <div class="bg-white rounded-xl shadow-lg p-6">
    <div class="mb-4">
      <p class="text-slate-600 text-sm">å®¶ç³»å›³ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚Canvasä¸Šã«æç”»ã•ã‚Œã¾ã™ã€‚</p>
    </div>
    
    <div class="border-2 border-slate-200 rounded-lg overflow-auto" style="max-height: 800px;">
      <canvas id="family-tree-canvas" width="1600" height="1200" class="bg-gradient-to-br from-slate-50 to-blue-50"></canvas>
    </div>
  </div>
</div>

<script>
  // Pass data from Rails to JavaScript
  const familyData = <%= raw @family_data.to_json %>;
  
  // Store in global scope for the family tree script
  window.persons = familyData.persons;
  window.relationships = familyData.relationships;
  
  // Draw the family tree when the page loads
  document.addEventListener('DOMContentLoaded', () => {
    if (typeof drawFamilyTree === 'function') {
      drawFamilyTree();
    }
  });
